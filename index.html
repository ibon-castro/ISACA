<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ISACA</title>
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
</head>
<body>
  <div id="app" class="container">
    <img src="img/ISACA_logo.png" alt="ISACA Logo" class="logo">
    
    <div class="tabs">
      <button :class="{active: currentTab==='talks'}" @click="currentTab='talks'">Asistencia</button>
      <button :class="{active: currentTab==='register'}" @click="currentTab='register'">Registro</button>
    </div>

    <div v-if="currentTab === 'register'" class="form-container">
      <h2>Registro</h2>
      <form @submit.prevent="submitRegistration">
        <input type="text" v-model="registration.name" placeholder="Nombre" required>
        <input type="text" v-model="registration.surnames" placeholder="Apellidos" required>
        <input type="number" v-model="registration.age" placeholder="Edad" min="0" required>
        <label><input type="checkbox" v-model="registration.isStudent"> Soy estudiante</label>
        <label><input type="checkbox" v-model="registration.isacaMadrid"> Soy miembro de ISACA Madrid</label>
        <input type="email" v-model="registration.email" placeholder="Correo" required>
        <label><input type="checkbox" v-model="registration.acceptData"> Acepto el procesamiento de mis datos</label>
        <button type="submit">Registrarse</button>
      </form>
    </div>

    <div v-if="currentTab === 'talks'" class="form-container">
      <h2>Asistencia</h2>
      <form @submit.prevent="submitTalks">
        <input type="email" v-model="talks.email" placeholder="Correo" required>
        <p class="reminder">Recuerda registrarte si a√∫n no lo has hecho.</p>
        <select v-model="talks.selectedTalk" required>
          <option disabled value="">Selecciona una charla</option>
          <option v-for="talk in talksList" :key="talk.id" :value="talk.id">{{ talk.title }}</option>
        </select>
        <button type="submit">He asistido</button>
      </form>
    </div>
  </div>

  <script>
    new Vue({
      el: "#app",
      data: {
        currentTab: 'talks',
        registration: { name: '', surnames: '', age: null, isStudent: false, isacaMadrid: false, email: '', acceptData: false },
        talks: { email: '', selectedTalk: '' },
        talksList: [
          { id: 1, title: 'Cybersecurity Trends' },
          { id: 2, title: 'Data Privacy' },
          { id: 3, title: 'IT Governance' },
          { id: 4, title: 'Cloud Computing' }
        ]
      },
      methods: {
        submitRegistration() {
          alert('Registro completado!');
          this.talks.email = this.registration.email;
          this.currentTab = 'talks';
        },
        submitTalks() {
          alert('Asistencia registrada!');
          console.log('Asistencia:', this.talks);
        }
      }
    });
  </script>
</body>
</html>
